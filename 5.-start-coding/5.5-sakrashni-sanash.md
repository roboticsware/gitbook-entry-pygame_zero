# 5.5 Qo'llarni cho'zgan holda sakrashlar sonini sanang - O'zgaruvchi

Entry blokli dasturlashda biz ko'pincha obyektlar animatsiyasidan foydalanganmiz. Pygame Zero-da ham xuddi shunday qilish mumkinmi? Albatta, mumkin. O'yinlardagi animatsiya odatiy holdir. Ushbu misolda biz birinchi marta Actor obyektlari animatsiyasidan foydalanamiz.

{% code lineNumbers="true" %}
```python
from pgzhelper import *

WIDTH = 710
HEIGHT = 500

bola = Actor('boy_1', (WIDTH / 2, HEIGHT / 2))
bola.images = ['boy_1', 'boy_2', 'boy_3']

marta = 0
bosildi = False

def draw():
    screen.fill('white')
    bola.draw()
    screen.draw.text('Nechi marta: ' + str(marta), (20, 20), color='black')

def update():
    global marta, bosildi
    if bosildi:
        if bola.next_image() == 0:
            marta += 1
            bosildi = False

def on_mouse_down():
    global bosildi
    bosildi = True
```
{% endcode %}

ðŸ”¢ 7-qatorda images deb nomlangan obyekt xossasi paydo bo'ladi. Nomidan ko'rinib turibdiki, u bir nechta tasvirlarni ro'yxat formatida saqlaydi va uning maqsadi obyekt tasvirlarini jonlantirishdir. Ro'yxatdagi uchta rasm (boy\_1, boy\_2, boy\_3) biz Entry-da ko'rgan sakrayotgan bola obyektining uchta tasviri (shakllari) bilan bir xil.

<figure><img src="../.gitbook/assets/Screenshot 2024-10-09 at 14.13.30.png" alt=""><figcaption></figcaption></figure>

ðŸ”¢ Endi biz animatsiya mavzusiga kelganimizdan so'ng, avvalo tegishli kodni ko'rib chiqamiz. Yodingizda bo'lsa kerak, Entry-da biz animatsiya uchun uchta tasvirning har birini ketma-ket almashtirib, animatsiya yaratganmiz. O'sha paytda biz tasvirlarni o'zgartirish uchun "Keyingi shaklga o'zgartirish" deb nomlangan blokdan foydalanganmiz. 20-qatorda ishlatiladigan next\_image funksiyasi ushbu blokning rolini o'ynaydigan usul (funksiya) dir.

next\_image usuli bajarilgandan so'ng, animatsiya yoqilgan image ro'yxatidagi rasmning indeksini (joylashuv qiymati) qaytariladi. 20-qatorda bola.next\_image() == 0 shart mavjud. Ushbu shart tasvirni almashtirishning to'liq tsikli tugaganligini va animatsiya birinchi rasmga qaytganligini tekshiradi (indeks 0 bilan). Shunday qilib, "qo'llarni ko'tarib sakrash" animatsiyasida uchta rasmning barchasi bajarilganligi tekshiriladi. Aynan shu vaqtda tugallangan animatsiya tsikllarining umumiy sonini hisoblash uchun eng yaxshi vaqt. Ushbu umumiy miqdor **9-qatorda e'lon qilingan** _**marta**_ **global o'zgaruvchisi**ga yoziladi, va o'sha yerda u to'planadi.

ðŸ”¢ 10-qatorda e'lon qilingan global o'zgaruvchining maqsadini tushunasizmi? Uning maqsadi animatsiyani faqat sichqoncha tugmasi bosilganda amalga oshirishdir (faqat bosilgan qiymat 26-qatorda True bo'lganda). Shuning uchun, animatsiya tugagandan so'ng, uni 22-qatorda False holatiga qaytarish kerak. Shundan keyingina animatsiya yana sichqoncha tugmachasini bosganda davom etishi mumkin.

ðŸ”¢ Nihoyat, 15-qatorda **text** deb ataladigan usul mavjud. Bu ekran obyekti ichidagi **draw** obyekti ichida joylashgan funksiya, shuning uchun **screen.draw.text** deb nomlangan ierarxik chaqiruv strukturasiga ega. O'tkazilgan argument qiymatlaridan ma'lumki, bu usulni ekranning qaysi joyida va qaysi rangda matnni chiqarish uchun qiymat o'tkazish orqali foydalanish mumkin. **'Nechi marta: ' + str(time)** sintaksisi bu erda chiqarilgan qiymat yangi emas va Entry-Python kitobida bir necha marta ishlatilgan. U standart sifatida "+" operatoridan foydalangan holda chap va o'ngdagi ikkita matn qiymatini (string qiymatlari) birlashtiradi va yana bitta matn yaratadi. Shuningdek, o'rtada, **str(marta)** _str_ deb nomlangan oldindan o'rnatilgan funksiyadan foydalanadi, sababi **marta** o'zgaruvchisi qiymati raqamli qiymat bo'lgani uchun uni matnni birlashtirish uchun ishlatib bo'lmaydi va birlashtirishdan oldin satrga aylantirilishi kerak.

Biz oldingi boblardan oldingi bilimlarni to'plaganimiz sababli, biz yangi kiritilgan narsalarni tezda o'rganishga muvaffaq bo'ldik. Nihoyat, biz ushbu misolning bajarilishi natijalarini ko'rib chiqish orqali ushbu bobni yakunlaymiz.

<figure><img src="../.gitbook/assets/5.5.gif" alt=""><figcaption></figcaption></figure>
